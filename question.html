<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ูุนุจุฉ ุตุฑุงุญุฉ ูุฌุฑุฃุฉ</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;font-family:Cairo}
body{
  margin:0;
  background:#f5f5f5;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
.screen{
  width:90%;
  max-width:360px;
  background:white;
  padding:20px;
  border-radius:15px;
  text-align:center;
}
button{
  width:100%;
  padding:12px;
  margin:8px 0;
  border:none;
  border-radius:10px;
  background:#e53935;
  color:white;
  cursor:pointer;
  font-size:16px;
}
input{
  width:100%;
  padding:10px;
  margin:10px 0;
  border-radius:8px;
  border:1px solid #ccc;
}
.hidden{display:none}
</style>
</head>

<body>

<!-- ุงุฎุชูุงุฑ ุงููุฆุฉ -->
<div class="screen" id="categoryScreen">
  <h2>๐ฎ ุงุฎุชุฑ ูุฆุฉ</h2>
  <button onclick="startGame(saraha)">ุตุฑุงุญุฉ</button>
  <button onclick="startGame(garaa)">ุฌุฑุฃุฉ</button>
  <button onclick="startGame(tahadi)">ุชุญุฏู</button>
  <button onclick="startGame(flags)">Red / Green Flag</button>
</div>

<!-- ุดุงุดุฉ ุงููุนุจ -->
<div class="screen hidden" id="gameScreen">
  <h3 id="questionText"></h3>
  <input id="answerInput" placeholder="ุงูุชุจ ุฅุฌุงุจุชู">
  <button onclick="nextQuestion()">ุงูุชุงูู</button>
</div>

<!-- ุงูููุงูุฉ -->
<div class="screen hidden" id="endScreen">
  <h2>๐ ุฎูุตุช ุงููุนุจุฉ</h2>
  <button onclick="downloadImage()">ุชุญููู ุตูุฑุฉ</button>
  <button onclick="downloadPDF()">ุชุญููู PDF</button>
</div>

<!-- ุตูุฏูู ุงูุชุตุฏูุฑ -->
<div id="exportBox" style="
display:none;
background:#e53935;
color:white;
padding:20px;
border-radius:15px;
width:350px;
font-family:Cairo">
<h3 style="text-align:center">ูุชูุฌุฉ ุงููุนุจุฉ</h3>
<div id="exportContent"></div>
<p style="text-align:center;font-size:12px;opacity:.8">Made with โค๏ธ</p>
</div>

<!-- ููุชุจุงุช -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
// ================= ุงูุฃุณุฆูุฉ =================

const saraha = [
"ูู ูุชูุตููู ุจูููุฉ ูุชููู ุงููุ",
"ุฅูู ุฃูุชุฑ ุญุงุฌุฉ ุจุชููุฑู ุจูุงุ",
"ูููุฉ ุจุชุญุจ ุชุณูุนูุงุ",
"ุฅูุชู ุญุณูุช ุฅูู ูุจุณูุท ุจุฌุฏุ",
"ุฅูู ุฃูุชุฑ ุฐูุฑู ุญููุฉุ",
"ุจุชุญุจ ุงูุงูุชูุงู ููุง ุงููุณุงุญุฉุ",
"ุฅูู ุตูุฉ ููุณู ุชุญุงูุธ ุนูููุงุ",
"ุฅูู ุฃูุชุฑ ุญุงุฌุฉ ุจุชูุฏูุฑูุงุ",
"ุจุชุญุจ ุชุนุจุฑ ุนู ูุดุงุนุฑูุ",
"ูู ุชูุตู ููุณู ุจูููุฉุ"
];

const garaa = [
"ููู ุญุงุฌุฉ ุนูุฑู ูุง ูููุชูุง",
"ุฅูู ุฃูุจุฑ ุถุนู ูููุ",
"ูููู ูุฏูุช ุนูููุ",
"ุฅูู ุฃูุชุฑ ุญุงุฌุฉ ุจุชุฎูููุ",
"ูู ุจุชูุงุจุฑ ูุงูุช ุฒุนูุงูุ",
"ูุฑุงุฑ ุตุนุจ ุฃุฎุฏุชูุ",
"ุฅูู ุณุฑ ุจุณูุท ุนููุ",
"ููู ุฃูุชุฑ ุดุฎุต ุฃุซุฑ ูููุ",
"ุฅูู ุฃูุชุฑ ุญุงุฌุฉ ุจุชูุฑุญูุ",
"ุฅูู ุนุงุฏุฉ ุญุงุจุจ ุชุบููุฑูุงุ"
];

const tahadi = [
"ุงูุชุจ 3 ุตูุงุช ุญููุฉ ูู ููุณู",
"ููู ุญุงุฌุฉ ุฅูุฌุงุจูุฉ ููุง ",
"ุงุฎุชุงุฑ ูุฏู ููุณู ุชุญููู ูุนุงูุง",
"ุงูุชุจ ุฑุณุงูู ูุตูุฑุฉ ูู ููุจู ",
" ุงุฐูุฑ ุญุงุฌุฉ ููุชู ูููุงุงูุง ุงูุณุจุจ ูููุง",
"ููู ุงุนุชุฑุงู ุนู ูุงุถูู ",
"ุฑุชุจ ุญุณุจ ุงูุงูู ุจูุณุจุงูู(ุงูุฌูุงู - ุงูุดุฎุตูุฉ - ุงูููุฏุฑุฉ ุงููุงููุฉ - ุงูุญููุฉ - ุงูุตุฏู )",
"ููู ุงูู ููุงู ููุณู ุงููุณู ููู ",
"ููู ูููุฉ ุฌุฑูุฆุฉ ุนูุฑู ูุงูููุชูุง ูุจู ูุฏู",
"ุงูุตู ูู ุงูุทุฑููุฉ ุงููู ุชุญุจ ุชุจูุณูู ุจููุง "
];

const flags = [
"ุฑุงุฌู ุจูุงุฎุฏ ุฑุฃู ุฃููู ูุจู ุงู ุฎุทูุฉ",
"ุจูุช ุจุชุญูุณ ุงุณุฑุงุฑ ุจูุชูุง ูุตุงุญุจูุง ",
"ุจูุช ุจุชุฎูู ุฃูููุง ูุฏุฎูู ูุญู ุงู ูุดุงูู ุจูููุง ูุจูู ุดุฑูู ุญูุงุชูุง",
"ุงูุชุฌุงูู",
"ุงูุงุนุชุฐุงุฑ",
"ุงูุชุญูู",
"ุฑุงุฌู ุจูุณุชูู ุงูุจูุช ุชุตุงูุญู ",
"ุงูุบูุฑุฉ ุงููุจุงูุบ ูููุง ",
"ุงููุถูุญ ุญุชู ูู ูุคุฐู",
"ุงูุงุณุชูุงูุฉ ุจุงููุดุงุนุฑ "
];

// =============== ููุทู ุงููุนุจุฉ =================

let questions = [];
let index = 0;
let answers = [];

function startGame(selected){
  questions = selected;
  index = 0;
  answers = [];
  document.getElementById("categoryScreen").classList.add("hidden");
  document.getElementById("gameScreen").classList.remove("hidden");
  showQuestion();
}

function showQuestion(){
  document.getElementById("questionText").innerText = questions[index];
}

function nextQuestion(){
  const val = document.getElementById("answerInput").value;
  answers.push({q:questions[index],a:val || "โ"});
  document.getElementById("answerInput").value="";
  index++;

  if(index < questions.length){
    showQuestion();
  }else{
    document.getElementById("gameScreen").classList.add("hidden");
    document.getElementById("endScreen").classList.remove("hidden");
  }
}

// =============== ุชุตุฏูุฑ =================

function prepareExport(){
  const box = document.getElementById("exportBox");
  const content = document.getElementById("exportContent");
  content.innerHTML = "";

  answers.forEach(x=>{
    content.innerHTML += `<p><b>${x.q}</b><br>${x.a}</p>`;
  });

  box.style.display="block";
}

function downloadImage(){
  prepareExport();
  const box = document.getElementById("exportBox");

  html2canvas(box,{scale:2}).then(canvas=>{
    const a=document.createElement("a");
    a.download="result.png";
    a.href=canvas.toDataURL();
    a.click();
    box.style.display="none";
  });
}

function downloadPDF(){
  prepareExport();
  const box = document.getElementById("exportBox");

  html2canvas(box,{scale:2}).then(canvas=>{
    const img = canvas.toDataURL("image/png");
    const {jsPDF} = window.jspdf;
    const pdf = new jsPDF();
    pdf.addImage(img,"PNG",10,10,190,0);
    pdf.save("result.pdf");
    box.style.display="none";
  });
}
</script>

</body>
</html>
